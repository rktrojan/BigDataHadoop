##Sqoop commands for Hadoop VM

#EXAMPLE 1
sqoop import \
--connect jdbc:mysql://localhost:3306/retail_db \
--username root \
--password cloudera \
--table orders \
--target-dir /user/cloudera/orders 


#EXAMPLE 2
sqoop import \
--connect jdbc:mysql://localhost:3306/retail_db \
--username root \
--password cloudera \
--table orders \
--target-dir /user/cloudera/orders \
-m 10 \
--split-by oid


#EXAMPLE 3
#instead of a table if we want run a query and import the query output
sqoop import \
--connect jdbc:mysql://localhost:3306/retail_db \
--username root \
--password cloudera \
--query 'select count(*) from orders where $CONDITIONS' \
--target-dir /user/cloudera/orders \
-m 10 \
--split-by oid




#EXAMPLE 4 - TBD
--table products  \
--columns id,name \
--where "sal>10"


#EXAMPLE 5 - TBD
--fields-terminated-by "," 



#EXAMPLE 6 - TBD
--hive-import \
--create-hive-table \ 
--hive-table sqoop_workspace.customers


#EXAMPLE 7
--table orders \
vs
--query 'select * from orders where $CONDITIONS'


--table orders \
--where 'id>2'

vs

--query 'select * from orders where id>2 and $CONDITIONS'  


#EXAMPLE 8 - TEXT SPLITTER
sqoop import "-Dorg.apache.sqoop.splitter.allow_text_splitter=true"  \
--connect jdbc:mysql://ip-172-31-13-137.ec2.internal:3306/academics \
--username hive \
--password cloudera \
--table students \
--target-dir /user/hadoop/students_name \
--split-by name 




#EXAMPLE 9 - Sqoop Export

sqoop export \
--connect jdbc:mysql://ip-172-31-13-137.ec2.internal:3306/academics \
--username hive \
--password cloudera \
--table students \
--export-dir /user/hadoop/students \


